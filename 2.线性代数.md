# 向量与线性代数


## 向量

- 方向 + 长度

- 单位向量，表示长度为1的向量；向量 / 向量长度 

- 向量求和
  
  - 三角形法则：相加的向量首位相连，起点和终点相连，就是向量的和
  
  - 平行四边形法则：平移向量，使得向量围城一个平行四边形，对角线就是向量的和

- 向量的乘法
  
  - 点乘
    
    - 点乘的结果是一个数
    
    - 点乘满足交换律，结合律和分配律
    
    - 点乘就是b在a上的投影 (projection of b向量 onto a向量)
      
      ![](./images/向量点乘.jpg)

    - 在坐标系下向量的点乘 
      
      ![](./images/向量点乘二维和三维的情况.jpg)

    - 点乘的作用
      - measure how close two direction are
      - decompose a vector
      - determine  forward / backward

    ![](./images/向量的前后.png)因为cos在第一和第四象限是正的；两个向量越接近，点乘的结果越接近1，越远越接近-1。

  
  - 差乘

    ![](./images/叉乘.png)

    - 结果是垂直于两个初始向量的<b>向量</b>

    - 满足右手定则(opengl 是右手系，directX, unreal, unity 都是左手系)

    - Vector a X Vector b  a 旋转到 b 方向,大拇指对应的方向就是，就是结果向量的方向 

    - 不满足交换律 (a X b = - b X a)， 满足结合律和分配率


    ![](./images/叉乘在代数上的解释.png)

    - 叉乘的作用

      - determine left / right
      - determine inside / outside 

      - a X b 是正的，说明 a 在 b的右侧（右手定则）

      - ab X ap, bc X bp, ca X cp 三个结果方向相同，则说明 P 在 三角形内(和三角形给定三个点的顺序无关，无论是顺时针还是逆时针都可以)

    ![](./images/叉乘的作用.png)


## 矩阵

  - 矩阵最重要的一点就是 第一个矩阵的 列 = 第二个矩阵的 行
  ![](./images/矩阵的乘法.png)

  - 不存在<b>交换律</b>(只有特殊情况才有，比如0向量)，有结合律和分配率

  - 矩阵和向量相乘
    -  向量必须是一个列向量(m x 1)
    -  key for transforming points
    -  2D reflection about y-axis(按y轴进行操作: x 变成 负的， y轴不变)

  ![](./images/矩阵和向量相乘.png)

  - 矩阵的转置
    ![](./images/矩阵的转置.png)
  - 矩阵的逆
    ![](./images/矩阵的逆.png)
  - 点乘叉乘的矩阵形式
    ![](./images/点乘叉乘的矩阵形式.png)

  ![](./images/基本公式.png)

  - 线性变换
    ![](./images/线性变换.png)

    - 缩放(Scale Transform)
      - 可以是均匀缩放
      - 也可以是不均匀的缩放

    - 反射（对称）(reflection)
    ![](./images/对称.png)

    - 切变(shear matrix)
    ![](./images/切变.png)

    - 旋转（Rotate）
    ![](./images/旋转.png)
    ![](./images/旋转公式推导.png)

  - 非线性变换
    - 平移
    ![](./images/平移的基本公式.png)
    ![](./images/平移不是线性变换.png)

  - 齐次坐标
    ![](./images/齐次坐标.png)
    ![](./images/齐次坐标下的意义.png)
    一个点和一个点相加 得到的是这两个的中点
    思路：因为两个点相加之后，最后一位是2，需要把这个值变成1，所以需要除2得到的就是中点
  - 引入齐次坐标的目的就是为了把所有的变换写成一个矩阵 * 一个向量这样的形式
  - 仿射变换
    仿射变换 = 线性变换 + 平移
    ![](./images/仿射变换.png)
    齐次坐标的表示形式：
    ![](./images/2D变换齐次坐标的形式.png)

  - 左乘
    ![](./images/左乘.png)

  - 变换的顺序
    无论是2D还是3D都是先线性变换再平移
    ![](./images/3D变换的顺序.png)
